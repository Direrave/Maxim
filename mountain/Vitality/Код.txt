//Этот уровень демонтрирует, как определять собственые функции.
//Код внутри функции не выполняется сразу. Он хранится для последующего использования.
//Эта функция заставляет героя поднять ближайшую монету.

function pickUpNearestCoin() {
	var items = hero.findItems();
	var nearestCoin = hero.findNearest(items);
	if(nearestCoin) {
		hero.move(nearestCoin.pos);
	}
}

//С помощью этой функции герйо призывает солдата.

function summonSoldier() {
	if(hero.gold > hero.costOf("soldier")) {
		hero.summon("soldier");
	}
}

//Эта функция приказывает солдатам атаковать ближайшего врага.

function commandSoldiers() {
	var friend = hero.findFriends();
	for( var i = 0; i < friends.length; i++) {
		var enemy = friends[i].findNearestEnemy();
		if(enemy) {
			hero.command(friend[i], "attack", enemy);
		}
	}
}

while(true) {
	pickUpCoin();
	summonSoldiers();
	commandSoldiers();
}